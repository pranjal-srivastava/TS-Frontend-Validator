<div class="form">

  <div>
    <img id="imgs" src="logo.png" alt="Placeholder for Fren Logo">
  </div>


  <h1>Register for FREN</h1>

  <form #registerForm="ngForm" >

    <div class="form-group">
      <label>First Name<span class="req">*</span></label>
      <input type="text" required #namefirst="ngModel" [class.is-invalid]="namefirst.invalid && namefirst.touched" class="form-control" name="namefirst" [(ngModel)]="register.namefirst">
      <small class="text-danger" [class.d-none]="namefirst.valid || namefirst.untouched">First Name is required</small>
    </div>

    <div class="form-group">
      <label>Last Name<span class="req">*</span></label>
      <input type="text" required #namelast="ngModel" [class.is-invalid]="namelast.invalid && namelast.touched" class="form-control" name="namelast" [(ngModel)]="register.namelast">
      <small class="text-danger" [class.d-none]="namelast.valid || namelast.untouched">Last Name is required</small>
    </div>

    <div class="form-group">
      <label>Age</label>
      <input type="text" #age="ngModel" pattern="^\d{2}$" required [class.is-invalid]="age.invalid && age.touched" class="form-control" name="age" [(ngModel)]="register.age">
      <div *ngIf="age.errors && (age.invalid && age.touched)">
        <small class="text-danger" *ngIf="age.errors.required">Age is required</small>
        <small class="text-danger" *ngIf="age.errors.pattern">Age must be between 10 and 99</small>
      </div>

    </div>


    <div class="form-group">
      <select (blur)="validateGender(gender.value)" (change)="validateGender(gender.value)"  #gender="ngModel" [class.is-invalid]="genderHasError && gender.touched" class="custom-select" name="gender" [(ngModel)]="register.gender">
        <option value="default">Select Gender </option>
        <option *ngFor="let gender of genders">{{gender}}</option>
      </select>
      <small class="text-danger" [class.d-none]="!genderHasError || gender.untouched">Please Select a gender</small>
    </div>



    <div class="form-group">
      <label>Phone</label>
      <input type="tel" #phone="ngModel" pattern="^\d{10}$" required [class.is-invalid]="phone.invalid && phone.touched" class="form-control" name="phone" [(ngModel)]="register.phone">
      <div *ngIf="phone.errors && (phone.invalid && phone.touched)">
        <small class="text-danger" *ngIf="phone.errors.required">Phone number is required</small>
        <small class="text-danger" *ngIf="phone.errors.pattern">Phone number must be 10 digits</small>
      </div>

    </div>



    <div class="form-group">
      <label>Enter a User Name<span class="req">*</span></label>
      <input type="text" required #username="ngModel" [class.is-invalid]="username.invalid && username.touched" class="form-control" name="username" [(ngModel)]="register.username">
      <small class="text-danger" [class.d-none]="username.valid || username.untouched">User Name is required</small>
    </div>

    <div class="form-group">
      <label>Email Address<span class="req">*</span></label>
      <input type="email" required pattern="^\w+@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$" #email="ngModel" [class.is-invalid]="email.invalid && email.touched" class="form-control" name="email" [(ngModel)]="register.email">
      <div *ngIf="email.errors && (email.invalid && email.touched)">
        <small class="text-danger" *ngIf="email.errors.required">Email is required</small>
        <small class="text-danger" *ngIf="email.errors.pattern">Enter a valid email</small>
      </div>
    </div>


    <div class="form-group">
      <label>Enter Password<span class="req">*</span></label>
      <input type="password" required pattern="^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{4,8}$" #password="ngModel" [class.is-invalid]="password.invalid && password.touched" class="form-control" name="password" [(ngModel)]="register.password">
      <div *ngIf="password.errors && (password.invalid && password.touched)">
        <small class="text-danger" *ngIf="password.errors.required">Password is required</small>
        <small class="text-danger" *ngIf="password.errors.pattern">Password must be at least 4 characters, no more than 8 characters, and must include at least one upper case letter, one lower case letter, and one numeric digit.</small>
      </div>
    </div>

    <div class="form-group">
      <label>Re-enter Password<span class="req">*</span></label>
      <input type="password" (blur)="validatePassword(password.value,repassword.value)" (change)="validatePassword(password.value,repassword.value)" required pattern="^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{4,8}$" #repassword="ngModel" [class.is-invalid]="passwordMismatch && repassword.invalid && repassword.touched" class="form-control" name="repassword" [(ngModel)]="register.repassword">
      <small class="text-danger" [class.d-none]="passwordMismatch || repassword.untouched">Password do not match</small>
      <div *ngIf="repassword.errors && (repassword.invalid && repassword.touched)">
        <small class="text-danger" *ngIf="repassword.errors.required">Password is required</small>
        <small class="text-danger" *ngIf="repassword.errors.pattern">Password must be at least 4 characters, no more than 8 characters, and must include at least one upper case letter, one lower case letter, and one numeric digit.</small>
      </div>
    </div>

    <button [disabled]="registerForm.form.invalid || genderHasError || passwordMismatch" type="submit" class="button button-block">Begin</button>

  </form>
</div>
